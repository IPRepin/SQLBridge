# SQLBridge

**SQLBridge** — это инструмент для автоматизированного переноса данных из базы данных SQLite в PostgreSQL. Приложение
сканирует все таблицы в SQLite, считывает их структуру и данные, а затем переносит их в заранее подготовленные таблицы
PostgreSQL.

---

## Особенности

- **Автоматизация:** Приложение автоматически сканирует таблицы SQLite и переносит данные в PostgreSQL при запуске.
- **Модульная архитектура:** Код разделён на модули, что облегчает поддержку и дальнейшее расширение функционала.
- **Логирование:** Подробное логирование всех операций помогает отслеживать процесс миграции и выявлять ошибки.
- **Конфигурируемость:** Все параметры подключения к базам данных задаются через файл `config.ini`.

---

## Требования

- **Python:** версия 3.8 и выше.
- **SQLite:** стандартный модуль `sqlite3` (входит в стандартную библиотеку Python).
- **PostgreSQL:** сервер PostgreSQL.
- **Библиотека для PostgreSQL:** [psycopg2-binary](https://www.psycopg.org/)  
  Установка:
  ```bash
  pip install psycopg2-binary
    ```

## Структура проекта

```psql
    SQLBridge/
    │
    ├── config.py           # Файл конфигурации для подключения к БД
    ├── main.py             # Основной скрипт приложения
    ├── db/
    │   ├── __init__.py     # Инициализация пакета для работы с БД
    │   ├── sqlite_db.py    # Модуль для работы с SQLite
    │   └── pg_db.py        # Модуль для работы с PostgreSQL
    └── utils/
        ├── __init__.py     # Инициализация пакета утилит
        ├── logger.py       # Модуль для настройки логирования
        └── transfer.py     # Модуль, реализующий логику переноса данных
```

## Установка и настройка

1. ### Клонирование репозитория:
   ```bash
   git clone <URL_репозитория>
   cd project
2. ### Создание виртуального окружения:
   #### Для Linux/Mac:
    ```bash
    python -m venv venv
    source venv/bin/activate
    ```
   #### Для Windows:
    ```bash
    python -m venv venv
    venv\Scripts\activate
3. ### Установка зависимостей:
    ```bash
    pip install -r requirements.txt  # Если есть файл requirements.txt
    # Или напрямую:
    pip install psycopg2-binary
   ```
4. ### Настройка файла конфигурации:
    ```ini
    [sqlite]
    db_path = ./data/mydatabase.sqlite
    
    [postgres]
    host = localhost
    port = 5432
    dbname = mydb
    user = myuser
    password = mypassword
    ```
## Запуск приложения
```bash
python main.py
```
Приложение выполнит:
1. Подключение к базе данных SQLite.
2. Получение списка таблиц и информации о колонках.
3. Перенос данных в соответствующие таблицы PostgreSQL.
4. Вывод логов операций в консоль.

## Автоматический запуск
* Cron (Linux) : Добавьте задание в crontab для периодического запуска.
* Systemd (Linux) : Создайте unit-файл для сервиса.
* Task Scheduler (Windows) : Настройте задачу через Планировщик задач.
## Логирование
Логирование настроено через модуль logging в файле utils/logger.py. Информационные и ошибочные сообщения выводятся в консоль. Настройки можно изменить в данном модуле.

## Обработка ошибок
* Для каждой таблицы реализована обработка исключений.
* При возникновении ошибки она логируется, а приложение продолжает работу с другими таблицами.

## Лицензия
Проект распространяется под лицензией MIT. Подробности в файле LICENSE.